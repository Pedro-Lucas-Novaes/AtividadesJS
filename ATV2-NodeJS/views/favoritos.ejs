<%- include ('partials/header.ejs') %> <%- include ('partials/navbar.ejs') %>

<h1>Bem-vindo a página favoritos!</h1>
<hr />
<h2>Lista de favoritos:</h2>


<div class="container">
      <h1>Cadastrar novo Filme:</h1>
      <form action="/favoritos/new" method="POST">
        <label>Título</label>
        <input type="text" name="titulo" style="color: black;"/>
        <label>Gênero</label>
        <input type="text" name="genero" style="color: black;"/>
        <label>Preço</label>
        <input type="text" name="preco" style="color: black;"/>
        <input type="submit" value="Cadastrar" class="btn btn-danger btn-sm">
      </form>
    </div>


<table>
      <thead>
        <th style="width: 150px; text-align: left">Título</th>
        <th style="width: 150px; text-align: left">Gênero</th>
        <th style="width: 150px; text-align: left">Preço</th>
        <th style="width: 150px; text-align: left">Ações</th>
      </thead>
      <tbody>
        <% favoritos.forEach(favorito => { %>
        <tr>
          <td><%= favorito.titulo %></td>
          <td><%= favorito.genero %></td>
          <td><%= favorito.preco %></td>

          <td>
            <a href="/favoritos/delete/<%= favorito.id %>">
                <button onclick="return confirm('Deseja mesmo excluir o filme <%= favorito.titulo %>?')">Excluir</button>
            </a>
        </td>
        </tr>
        <% }) %>
      </tbody>
    </table>

<%- include ('partials/footer.ejs') %>